@model ScientificResearch.ViewModel.ERPNWorkToDoViewModel

@{

    Layout = "~/Areas/Education/Views/Shared/_PopUpLayout.cshtml";
}
<script src="../../../../Scripts/ajaxfileupload.js"></script>
<script src="../../../../Scripts/Custom/forms.js"></script>
<script src="../../../../Scripts/Custom/AboutApprovalNode.js"></script>
<script type="text/javascript">

    $(function () {

        $("#Save").click(function () {
            var url1 = "/Education/GraduateStudent/AddRiseApplication?flag=Save";
            //alert(url1);
            submitForm("form", url1);
        })
        $("#Reported").click(function () {
            var url2 = "/Education/GraduateStudent/AddRiseApplication?flag=Reported";
            // alert(url2)
            submitForm("form", url2);
        })
    })
</script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div>
        @*<div><b>填写申请书</b> -> @Model.WorkName</div>*@
        @Html.ValidationSummary(true)

        <table id="data" class="table">

            @Html.Raw(Model.FormContent)
            @Html.HiddenFor(model => model.FormContent)
            @Html.ValidationMessageFor(model => model.FormContent)


            @if (Model.IsTemporary != null)
            {
                if (Model.IsTemporary == true)
                {
                    <tr>
                        <td colspan="3">
                            已保存
                        </td>
                        <td colspan="3">
                            <input type="submit" value="上&nbsp&nbsp&nbsp报" name="Reported" id="Reported" class="btn btn-blue" />
                        </td>
                    </tr>
                }
                else
                {
                    <tr>
                        <td colspan="6" style="vertical-align:middle; text-align:center;">
                            @*已上报*@
                        </td>
                    </tr>
                }
            }
            else
            {
                <script type="text/javascript">
                    $(document).ready(function () {
                        $("#Date950729669").kendoDatePicker({
                            format: "yyyy-MM-dd",
                            value: new Date()
                        });

                        $("#Date950729669").attr("readonly", true);
                    });
                </script>
                <tr>
                    <td colspan="3">
                        <div><input type="submit" value="保&nbsp&nbsp&nbsp存" name="Save" id="Save" class="btn btn-blue" /></div>
                    </td>
                    <td colspan="3">
                        <div> <input type="submit" value="保存并上报" name="Reported" class="btn btn-blue" id="Reported" /></div>
                    </td>
                </tr>
            }

        </table>

        @Html.HiddenFor(model => model.WenHao)

        @Html.HiddenFor(model => model.BeiYong1)

        @Html.HiddenFor(model => model.FormID, new { @readOnly = "readOnly " })

        @Html.HiddenFor(model => model.WorkFlowID, new { @readOnly = "readOnly " })

        @Html.HiddenFor(model => model.TimeStr, new { @readOnly = "readOnly " })

        @Html.HiddenFor(model => model.FuJianList)

        @Html.HiddenFor(model => model.ShenPiYiJian)

        @Html.HiddenFor(model => model.JieDianID, new { @readOnly = "readOnly " })

        @Html.HiddenFor(model => model.JieDianName, new { @readOnly = "readOnly " })

        @Html.HiddenFor(model => model.ShenPiUserList)

        @Html.HiddenFor(model => model.OKUserList)

        @Html.HiddenFor(model => model.StateNow)

        @Html.HiddenFor(model => model.LateTime)

        @Html.HiddenFor(model => model.BeiYong2)

        @Html.HiddenFor(model => model.ApplicationId)

        @Html.HiddenFor(model => model.ApplicationStatus)

        @Html.HiddenFor(model => model.NWorkToDoID)
    </div>
}

