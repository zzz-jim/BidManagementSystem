@model UI.ScientificResearch.Models.BidWinnerNoticeViewModel
@{
    Layout = "~/Views/Shared/_PopUpLayout.cshtml";
}
@if (ViewBag.SendUpSuccess == true)
{
    <script type="text/javascript">
    //上报成功的提示
    $(function(){
        var sendupsuccess = "@ViewBag.SendUpSuccess";
        if (sendupsuccess == "True")
        {
            parent.location.reload();
            alert("保存成功！");
        }
    });
    </script>
}
else
{
    using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <table class="table">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            @Html.HiddenFor(model => model.ApplicationId)
            @Html.HiddenFor(model => model.BidSectionId)

            <tr class="firstRow">
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    项目名称
                </td>
                <td class="tdcss" valign="top" rowspan="1" colspan="2" width="180.66666666666666">
                    <input name="ProjectName" type="text" title="项目名称" value="@Model.ProjectName" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" readonly="readonly"/>
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    项目编号
                </td>
                <td class="tdcss" valign="top" rowspan="1" colspan="2">
                    <input name="leipiNewField" type="text" title="项目编号" value="@Model.ProjectNumber" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" readonly="readonly"/>
                </td>
            </tr>
            <tr>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    标段名称
                </td>
                <td class="tdcss" valign="top" rowspan="1" colspan="2" width="180.66666666666666">
                    <input name="SectionName" type="text" title="标段名称" value="@Model.SectionName" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" readonly="readonly"/>
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    标段编号
                </td>
                <td class="tdcss" valign="top" rowspan="1" colspan="2">
                    <input name="SectionNumber" type="text" title="标段编号" value="@Model.SectionNumber" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" readonly="readonly"/>
                </td>
            </tr>
            @*<tr>
                    <td class="tdcss" valign="top" style="word-break: break-all;">
                        建设单位
                    </td>
                    <td class="tdcss" valign="top" rowspan="1" colspan="2" width="180.66666666666666">
                        <input name="leipiNewField" type="text" title="建设单位" value="" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" />
                    </td>
                    <td class="tdcss" valign="top" style="word-break: break-all;">
                        招标代理
                    </td>
                    <td class="tdcss" valign="top" rowspan="1" colspan="2">
                        <input name="leipiNewField" type="text" title="招标代理" value="" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" />
                    </td>
                </tr>*@
            <tr>
                <td class="tdcss" valign="top" style="word-break: break-all;" rowspan="1" colspan="6">
                    <b>中标候选人信息</b>
                </td>
            </tr>
            <tr>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    序号
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    名次
                </td>
                <td class="tdcss" width="143.66666666666666" valign="top" style="word-break: break-all;">
                    <a></a><a>中标候选人名称</a>
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    <a></a><a>投标报价(元)</a>
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    <a></a><a>综合评标得分</a>
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    <a></a><a>供应商地址</a>
                </td>
            </tr>
            <tr>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    1
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    第一名
                </td>
                <td class="tdcss" width="143.66666666666666" valign="top">
                    @*<input name="CompanyName1" type="text" title="中标候选人名称第一" value="" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" />*@
                    @Html.DropDownList("CompanyId1", ViewBag.bidCompanyList as IEnumerable<SelectListItem>, new { @class = "text-danger" })
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="TenderOffer1" name="TenderOffer1" title="投标报价(元)第一" style="width:150px" value="@Model.TenderOffer1" onkeypress="var k=event.keyCode; return (k&gt;=48&amp;&amp;k&lt;=57)||k==46" ondragenter="return false" onpaste="return !/D/.test(clipboardData.getData('text'))" />
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="Score1" name="Score1" title="综合评标得分第一" style="width:150px" value="@Model.Score1" onkeypress="var k=event.keyCode; return (k&gt;=48&amp;&amp;k&lt;=57)||k==46" ondragenter="return false" onpaste="return !/D/.test(clipboardData.getData('text'))" />
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="Address1" name="Address1" title="供应商地址1" style="width:150px" value="@Model.Address1" />
                </td>
            </tr>
            <tr>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    2
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    第二名
                </td>
                <td class="tdcss" width="143.66666666666666" valign="top">
                    @*<input name="CompanyName2" type="text" title="中标候选人名称第二" value="" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" />*@
                    @Html.DropDownList("CompanyId2", ViewBag.bidCompanyList as IEnumerable<SelectListItem>, new { @class = "text-danger" })
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="TenderOffer2" name="TenderOffer2" title="投标报价(元)第二" style="width:150px" value="@Model.TenderOffer2" onkeypress="var k=event.keyCode; return (k&gt;=48&amp;&amp;k&lt;=57)||k==46" ondragenter="return false" onpaste="return !/D/.test(clipboardData.getData('text'))" />
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="Score2" name="Score2" title="综合评标得分第二" style="width:150px" value="@Model.Score2" onkeypress="var k=event.keyCode; return (k&gt;=48&amp;&amp;k&lt;=57)||k==46" ondragenter="return false" onpaste="return !/D/.test(clipboardData.getData('text'))" />
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="Address2" name="Address2" title="供应商地址2" style="width:150px" value="@Model.Address2" />
                </td>
            </tr>
            <tr>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    3
                </td>
                <td class="tdcss" valign="top" style="word-break: break-all;">
                    第三名
                </td>
                <td class="tdcss" width="143.66666666666666" valign="top">
                    @*<input name="CompanyName3" type="text" title="中标候选人名称第三" value="" leipiplugins="text" orghide="0" orgalign="left" orgwidth="150" orgtype="text" style="text-align: left; width: 150px;" />*@
                    @Html.DropDownList("CompanyId3", ViewBag.bidCompanyList as IEnumerable<SelectListItem>, new { @class = "text-danger" })
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="TenderOffer3" name="TenderOffer3" title="投标报价(元)第三" style="width:150px" value="@Model.TenderOffer3" onkeypress="var k=event.keyCode; return (k&gt;=48&amp;&amp;k&lt;=57)||k==46" ondragenter="return false" onpaste="return !/D/.test(clipboardData.getData('text'))" />
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="Score3" name="Score3" title="综合评标得分第三" style="width:150px" value="@Model.Score3" onkeypress="var k=event.keyCode; return (k&gt;=48&amp;&amp;k&lt;=57)||k==46" ondragenter="return false" onpaste="return !/D/.test(clipboardData.getData('text'))" />
                </td>
                <td class="tdcss" valign="top">
                    <input type="text" id="Address3" name="Address3" title="供应商地址3" style="width:150px" value="@Model.Address3" />
                </td>
            </tr>


            <tr>
                <td colspan="5">
                    <input type="submit" value="保存" name="Save" class="btn btn-default" />
                </td>
            </tr>
        </table>
    }
    <script>
        $(document).ready(function () {
            $("#RegisterTime").kendoDatePicker({
                format: "yyyy-MM-dd"
            });
            $("#RegisterTime").attr("readonly", true);
        });
    </script>
    <script type="text/javascript">
    $(function () {
        $("input[name='Reported'],input[name='Save'] ").click(function () {
            var errorMessage = "";

            if (($("#CompanyId3").val().trim() == $("#CompanyId2").val().trim() || $("#CompanyId1").val().trim() == $("#CompanyId2").val().trim() || $("#CompanyId3").val().trim() == $("#CompanyId1").val().trim())) {
                errorMessage = errorMessage + "中标候选人名称不能重复！";
            }
            //if ($("#Score").val().trim() == "") {
            //    errorMessage = errorMessage + "综合评标等分不能为空！";
            //}
            //if ($("#TenderOffer").val().trim() == "") {
            //    errorMessage = errorMessage + "投标报价不能为空！";
            //}
            //if ($("#ID").val().trim() == "") {
            //    errorMessage = errorMessage + "公司名称不能为空！";
            //}
            if (errorMessage == "") {
            }
            else {
                alert(errorMessage);
                return false;
            }
        });
    });
    //上报成功的提示
    $(function(){
        var sendupsuccess = "@ViewBag.SendUpSuccess";
        if (sendupsuccess == "True")
        {
            alert("保存成功！");
            parent.location.reload();
        }
    });
    </script>

}