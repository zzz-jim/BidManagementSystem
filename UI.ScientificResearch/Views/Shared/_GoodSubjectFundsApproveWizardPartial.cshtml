@using ScientificResearch.Utility.Enums;
<!-- workflow id 1031, 1033 经费报销流程,差旅报销流程  -->
<!--Page Related Scripts-->
<script src="~/Scripts/assets/js/fuelux/wizard/wizard-custom.js"></script>

<div class="widget-body">
    <div class="row">
        <div class="col-lg-12 col-sm-12 col-xs-12">
            <div id="WiredWizard" class="wizard wizard-wired" data-target="#WiredWizardsteps">
                <ul class="steps">
                    <li id="ApprovalStep1" data-target="#wiredstep1" class="ApprovalStepStepComplete"><span class="step">1</span><span class="title">部门经理审批</span><span class="chevron"></span></li>
                    <li id="ApprovalStep2" data-target="#wiredstep2" class="ApprovalStepStepComplete"><span class="step">2</span><span class="title">项目负责人审批</span> <span class="chevron"></span></li>
                    <li id="ApprovalStep3" data-target="#wiredstep3" class="ApprovalStepStepComplete"><span class="step">3</span><span class="title">科教科科长审批</span> <span class="chevron"></span></li>
                    <li id="ApprovalStep4" data-target="#wiredstep4" class="ApprovalStepStepComplete"><span class="step">4</span><span class="title">财务确认</span> <span class="chevron"></span></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script>var ApplicationApprovalWorkflowNodeId = 0;</script>
@*填写报销单
部门经理审批
项目负责人审批
科教科科长审批
财务确认*@
<!-- 部门经理审批, 科教科科员审批, 科教科科长审批, 超级管理员审批审批-->
@*@if (ViewBag.ApprovalStep == ApplicationApprovalWorkflowNode.部门经理审批.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 1;</script>
}
else if (ViewBag.ApprovalStep == ApplicationApprovalWorkflowNode.项目负责人审批.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 2;</script>
}
else if (ViewBag.ApprovalStep == ApplicationApprovalWorkflowNode.科教科科长审批.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 3;</script>
}
else if (ViewBag.ApprovalStep == ApplicationApprovalWorkflowNode.财务确认.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 4;</script>
}
else if (ViewBag.ApprovalStep == ApplicationApprovalWorkflowNode.结束.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 5;</script>
}
else
{
    @*Empty.
}*@
@if (Model.JieDianName == ApplicationApprovalWorkflowNode.部门经理审批.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 1;</script>
}
else if (Model.JieDianName == ApplicationApprovalWorkflowNode.项目负责人审批.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 2;</script>
}
else if (Model.JieDianName == ApplicationApprovalWorkflowNode.科教科科长审批.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 3;</script>
}
else if (Model.JieDianName == ApplicationApprovalWorkflowNode.财务确认.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 4;</script>
}

else if (Model.JieDianName == ApplicationApprovalWorkflowNode.结束.ToString())
{
    <script> ApplicationApprovalWorkflowNodeId = 5;</script>
}
else
{
    @*Empty.*@
}
<script type="text/javascript">
    var idApprovalStepPre = "#ApprovalStep";

    for (var i = 0; i < ApplicationApprovalWorkflowNodeId; i++) {
        var id = idApprovalStepPre + i;
        $(id).removeClass("ApprovalStepStepComplete").addClass("complete");
    }

    if (ApplicationApprovalWorkflowNodeId != 5) {
        $(idApprovalStepPre + ApplicationApprovalWorkflowNodeId).removeClass("ApprovalStepStepComplete").addClass("active");
    }
</script>